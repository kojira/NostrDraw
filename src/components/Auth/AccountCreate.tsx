/**
 * „Ç¢„Ç´„Ç¶„É≥„Éà‰ΩúÊàê„Éï„Ç©„Éº„É†„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà
 * Ê±∫ÂÆöË´ñÁöÑnsecÁîüÊàê„Å´„Çà„ÇãÂÖ•Âè£Áî®„Ç¢„Ç´„Ç¶„É≥„Éà‰ΩúÊàê
 */

import { useState } from 'react';
import { useTranslation } from 'react-i18next';
import styles from './AccountCreate.module.css';

// ÁµµÊñáÂ≠ó„Ç´„ÉÜ„Ç¥„É™ÔºàÂ§ßÂπÖÊã°ÂºµÁâàÔºâ
const EMOJI_CATEGORIES = [
  {
    name: 'ÂãïÁâ©',
    emojis: [
      // „Ç§„ÉåÁßë
      'üê∂', 'üêï', 'ü¶Æ', 'üêï‚Äçü¶∫', 'üê©', 'üê∫', 'ü¶ä',
      // „Éç„Ç≥Áßë
      'üê±', 'üêà', 'üêà‚Äç‚¨õ', 'ü¶Å', 'üêØ', 'üêÖ', 'üêÜ', 'üêæ',
      // „ÇØ„ÉûÁßë„Éª„Ç¢„É©„Ç§„Ç∞„ÉûÁßë
      'üêª', 'üêª‚Äç‚ùÑÔ∏è', 'üê®', 'üêº', 'ü¶ù',
      // ÈúäÈï∑È°û
      'üêµ', 'üôà', 'üôâ', 'üôä', 'üêí', 'ü¶ç', 'ü¶ß',
      // „Ç¶„ÉûÁßë
      'üê¥', 'üêé', 'üé†', 'üèá', 'ü¶Ñ', 'ü¶ì', 'ü´é', 'ü´è',
      // „Ç∑„Ç´Áßë
      'ü¶å', 'ü´é',
      // „Ç¶„Ç∑Áßë„Éª„É§„ÇÆÁßë
      'üêÆ', 'üêÇ', 'üêÉ', 'üêÑ', 'ü¶¨', 'üêè', 'üêë', 'üêê', 'ü¶ô', 'ü¶í',
      // „Éñ„ÇøÁßë„Éª„Ç§„Éé„Ç∑„Ç∑Áßë
      'üê∑', 'üêñ', 'üêó', 'üêΩ',
      // „É©„ÇØ„ÉÄÁßë
      'üê™', 'üê´',
      // „Çæ„Ç¶Áßë
      'üêò', 'ü¶£',
      // „Çµ„Ç§Áßë„Éª„Ç´„ÉêÁßë
      'ü¶è', 'ü¶õ',
      // „Åí„Å£Ê≠ØÈ°û
      'üê≠', 'üêÅ', 'üêÄ', 'üêπ', 'üêøÔ∏è', 'ü¶´', 'ü¶î',
      // „Ç¶„Çµ„ÇÆÁßë
      'üê∞', 'üêá',
      // „Ç≥„Ç¶„É¢„É™
      'ü¶á',
      // ÊúâË¢ãÈ°û
      'ü¶ò', 'ü¶°',
      // „Åù„ÅÆ‰ªñÂì∫‰π≥È°û
      'ü¶•', 'ü¶¶', 'ü¶®', 'ü¶≠', 'ü¶î',
      // È≥•È°û - „Éã„ÉØ„Éà„É™„Éª„Ç≠„Ç∏
      'üêî', 'üêì', 'üê£', 'üê§', 'üê•', 'ü¶É',
      // È≥•È°û - Ê∞¥È≥•
      'ü¶Ü', 'ü¶¢', 'ü™ø', 'üêß', 'ü¶©',
      // È≥•È°û - ÁåõÁ¶ΩÈ°û
      'ü¶Ö', 'ü¶â',
      // È≥•È°û - „Åù„ÅÆ‰ªñ
      'üê¶', 'üê¶‚Äç‚¨õ', 'üïäÔ∏è', 'ü¶§', 'ü™∂', 'ü¶ö', 'ü¶ú', 'ü™Ω', 'üê¶‚Äçüî•', 'ü¶Ü', 'ü¶¢', 'üê§',
      // Áà¨Ëô´È°û
      'üê∏', 'üêä', 'üê¢', 'ü¶é', 'üêç', 'üê≤', 'üêâ', 'ü¶ï', 'ü¶ñ',
      // Êµ∑Ê¥ãÂì∫‰π≥È°û
      'üê≥', 'üêã', 'üê¨', 'ü¶≠',
      // È≠öÈ°û
      'üêü', 'üê†', 'üê°', 'ü¶à', 'üéè', 'üê°',
      // Ëªü‰ΩìÂãïÁâ©„ÉªÁî≤ÊÆªÈ°û
      'üêô', 'ü¶ë', 'ü¶ê', 'ü¶û', 'ü¶Ä', 'ü¶™', 'üêö', 'ü™∏', 'ü™º',
      // Ëô´
      'üêå', 'ü¶ã', 'üêõ', 'üêú', 'üêù', 'ü™≤', 'üêû', 'ü¶ó', 'üï∑Ô∏è', 'üï∏Ô∏è', 'ü¶Ç', 'ü¶ü', 'ü™∞', 'ü™±', 'ü¶†', 'üêæ'
    ]
  },
  {
    name: 'È£ü„ÅπÁâ©',
    emojis: [
      // „Éï„É´„Éº„ÉÑ
      'üçá', 'üçà', 'üçâ', 'üçä', 'üçã', 'üçã‚Äçüü©', 'üçå', 'üçç', 'ü•≠', 'üçé', 'üçè', 'üçê', 'üçë', 'üçí', 'üçì', 'ü´ê', 'ü•ù', 'üçÖ', 'ü´í', 'ü••',
      // ÈáéËèú
      'ü•ë', 'üçÜ', 'ü•î', 'ü•ï', 'üåΩ', 'üå∂Ô∏è', 'ü´ë', 'ü•í', 'ü•¨', 'ü•¶', 'üßÑ', 'üßÖ', 'üçÑ', 'ü•ú', 'ü´ò', 'üå∞',
      // „Éë„É≥„ÉªÁ©ÄÁâ©
      'üçû', 'ü•ê', 'ü•ñ', 'ü´ì', 'ü•®', 'ü•Ø', 'ü•û', 'üßá', 'üßÄ', 'üçñ', 'üçó', 'ü•©', 'ü•ì', 'üçî', 'üçü', 'üçï', 'üå≠', 'ü•™', 'üåÆ', 'üåØ', 'ü´î', 'ü•ô', 'üßÜ', 'ü•ö', 'üç≥', 'ü•ò', 'üç≤', 'ü´ï', 'ü•£', 'ü•ó', 'üçø', 'üßà', 'üßÇ',
      // „Ç¢„Ç∏„Ç¢ÊñôÁêÜ
      'üç±', 'üçò', 'üçô', 'üçö', 'üçõ', 'üçú', 'üçù', 'üç†', 'üç¢', 'üç£', 'üç§', 'üç•', 'ü•Æ', 'üç°', 'ü•ü', 'ü•†', 'ü•°',
      // „Çπ„Ç§„Éº„ÉÑ
      'üç¶', 'üçß', 'üç®', 'üç©', 'üç™', 'üéÇ', 'üç∞', 'üßÅ', 'ü•ß', 'üç´', 'üç¨', 'üç≠', 'üçÆ', 'üçØ',
      // È£≤„ÅøÁâ©
      'üçº', 'ü•õ', '‚òï', 'ü´ñ', 'üçµ', 'üç∂', 'üçæ', 'üç∑', 'üç∏', 'üçπ', 'üç∫', 'üçª', 'ü•Ç', 'ü•É', 'ü´ó', 'ü•§', 'üßã', 'üßÉ', 'üßâ', 'üßä',
      // È£üÂô®
      'ü•¢', 'üçΩÔ∏è', 'üç¥', 'ü•Ñ', 'üî™', 'ü´ô', 'üè∫'
    ]
  },
  {
    name: 'Ëá™ÁÑ∂',
    emojis: [
      // Ëä±
      'üíê', 'üå∏', 'üíÆ', 'ü™∑', 'üèµÔ∏è', 'üåπ', 'ü•Ä', 'üå∫', 'üåª', 'üåº', 'üå∑', 'ü™ª',
      // Ê§çÁâ©
      'üå±', 'ü™¥', 'üå≤', 'üå≥', 'üå¥', 'üåµ', 'üåæ', 'üåø', '‚òòÔ∏è', 'üçÄ', 'üçÅ', 'üçÇ', 'üçÉ', 'ü™π', 'ü™∫', 'üçÑ', 'üçÑ‚Äçüü´',
      // Â§©‰Ωì„ÉªÂ§©Ê∞ó
      'üåç', 'üåé', 'üåè', 'üåê', 'ü™ê', '‚≠ê', 'üåü', '‚ú®', 'üí´', 'üåô', '‚òÄÔ∏è', 'üåù', 'üåõ', 'üåú', 'üåö', 'üåï', 'üåñ', 'üåó', 'üåò', 'üåë', 'üåí', 'üåì', 'üåî', 'üåô', 'üåà', '‚òÅÔ∏è', '‚õÖ', '‚õàÔ∏è', 'üå§Ô∏è', 'üå•Ô∏è', 'üå¶Ô∏è', 'üåßÔ∏è', 'üå®Ô∏è', 'üå©Ô∏è', 'üå™Ô∏è', 'üå´Ô∏è', 'üå¨Ô∏è', '‚ùÑÔ∏è', '‚òÉÔ∏è', '‚õÑ', '‚òÑÔ∏è', 'üî•', 'üíß', 'üåä', 'üíé', 'ü™®', 'ü™µ', 'üåå'
    ]
  },
  {
    name: 'È°î',
    emojis: [
      // Á¨ëÈ°î
      'üòÄ', 'üòÉ', 'üòÑ', 'üòÅ', 'üòÜ', 'üòÖ', 'ü§£', 'üòÇ', 'üôÇ', 'üôÉ', 'üòâ', 'üòä', 'üòá',
      // ÊÑõÊÉÖ
      'ü•∞', 'üòç', 'ü§©', 'üòò', 'üòó', '‚ò∫Ô∏è', 'üòö', 'üòô', 'ü•≤',
      // Ëàå
      'üòã', 'üòõ', 'üòú', 'ü§™', 'üòù', 'ü§ë',
      // Êâã
      'ü§ó', 'ü§≠', 'ü´¢', 'ü´£', 'ü§´', 'ü§î', 'ü´°',
      // ‰∏≠Á´ã
      'ü§ê', 'ü§®', 'üòê', 'üòë', 'üò∂', 'ü´•', 'üò∂‚Äçüå´Ô∏è', 'üòè', 'üòí', 'üôÑ', 'üò¨', 'üòÆ‚Äçüí®', 'ü§•', 'ü´®',
      // Áú†„ÅÑ
      'üòå', 'üòî', 'üò™', 'ü§§', 'üò¥',
      // ‰ΩìË™ø‰∏çËâØ
      'üò∑', 'ü§í', 'ü§ï', 'ü§¢', 'ü§Æ', 'ü§ß', 'ü•µ', 'ü•∂', 'ü•¥', 'üòµ', 'üòµ‚Äçüí´', 'ü§Ø',
      // Â∏ΩÂ≠ê„Éª„É°„Ç¨„Éç
      'ü§†', 'ü•≥', 'ü•∏', 'üòé', 'ü§ì', 'üßê',
      // Âõ∞ÊÉë
      'üòï', 'ü´§', 'üòü', 'üôÅ', '‚òπÔ∏è', 'üòÆ', 'üòØ', 'üò≤', 'üò≥', 'ü•∫', 'ü•π', 'üò¶', 'üòß', 'üò®', 'üò∞', 'üò•', 'üò¢', 'üò≠', 'üò±', 'üòñ', 'üò£', 'üòû', 'üòì', 'üò©', 'üò´', 'ü•±',
      // ÊÄí„Çä
      'üò§', 'üò°', 'üò†', 'ü§¨', 'üòà', 'üëø', 'üíÄ', '‚ò†Ô∏è',
      // „Åù„ÅÆ‰ªñ
      'üí©', 'ü§°', 'üëπ', 'üë∫', 'üëª', 'üëΩ', 'üëæ', 'ü§ñ',
      // Áå´
      'üò∫', 'üò∏', 'üòπ', 'üòª', 'üòº', 'üòΩ', 'üôÄ', 'üòø', 'üòæ',
      // „Çµ„É´
      'üôà', 'üôâ', 'üôä'
    ]
  },
  {
    name: '„Éè„Éº„Éà',
    emojis: [
      '‚ù§Ô∏è', 'üß°', 'üíõ', 'üíö', 'üíô', 'ü©µ', 'üíú', 'üñ§', 'ü©∂', 'ü§ç', 'ü§é', 'ü©∑', 'üíî', '‚ù§Ô∏è‚Äçüî•', '‚ù§Ô∏è‚Äçü©π', '‚ù£Ô∏è', 'üíï', 'üíû', 'üíì', 'üíó', 'üíñ', 'üíò', 'üíù', 'üíü', '‚ô•Ô∏è', 'ü´∂', 'üíë', 'üíè', 'üë´', 'üë≠', 'üë¨'
    ]
  },
  {
    name: 'Êâã',
    emojis: [
      'üëã', 'ü§ö', 'üñêÔ∏è', '‚úã', 'üññ', 'ü´±', 'ü´≤', 'ü´≥', 'ü´¥', 'üëå', 'ü§å', 'ü§è', '‚úåÔ∏è', 'ü§û', 'ü´∞', 'ü§ü', 'ü§ò', 'ü§ô', 'üëà', 'üëâ', 'üëÜ', 'üñï', 'üëá', '‚òùÔ∏è', 'ü´µ', 'üëç', 'üëé', '‚úä', 'üëä', 'ü§õ', 'ü§ú', 'üëè', 'üôå', 'ü´∂', 'üëê', 'ü§≤', 'ü§ù', 'üôè', '‚úçÔ∏è', 'üíÖ', 'ü§≥', 'üí™', 'ü¶æ', 'ü¶ø', 'ü¶µ', 'ü¶∂', 'üëÇ', 'ü¶ª', 'üëÉ', 'üß†', 'ü´Ä', 'ü´Å', 'ü¶∑', 'ü¶¥', 'üëÄ', 'üëÅÔ∏è', 'üëÖ', 'üëÑ', 'ü´¶'
    ]
  },
  {
    name: '„Çπ„Éù„Éº„ÉÑ',
    emojis: [
      '‚öΩ', 'üèÄ', 'üèà', '‚öæ', 'ü•é', 'üéæ', 'üèê', 'üèâ', 'ü•è', 'üé±', 'ü™Ä', 'üèì', 'üè∏', 'üèí', 'üèë', 'ü•ç', 'üèè', 'ü™É', 'ü•Ö', '‚õ≥', 'ü™Å', 'üèπ', 'üé£', 'ü§ø', 'ü•ä', 'ü•ã', 'üéΩ', 'üõπ', 'üõº', 'üõ∑', '‚õ∏Ô∏è', 'ü•å', 'üéø', '‚õ∑Ô∏è', 'üèÇ', 'ü™Ç', 'üèãÔ∏è', 'ü§º', 'ü§∏', '‚õπÔ∏è', 'ü§∫', 'ü§æ', 'üèåÔ∏è', 'üèá', '‚õëÔ∏è', 'üßò', 'üèÑ', 'üèä', 'ü§Ω', 'üö£', 'üßó', 'üöµ', 'üö¥', 'üèÜ', 'ü•á', 'ü•à', 'ü•â', 'üèÖ', 'üéñÔ∏è', 'üèµÔ∏è', 'üéóÔ∏è', 'üé´', 'üéüÔ∏è', 'üé™'
    ]
  },
  {
    name: '‰πó„ÇäÁâ©',
    emojis: [
      'üöó', 'üöï', 'üöô', 'üöå', 'üöé', 'üèéÔ∏è', 'üöì', 'üöë', 'üöí', 'üöê', 'üõª', 'üöö', 'üöõ', 'üöú', 'ü¶Ø', 'ü¶Ω', 'ü¶º', 'üõ¥', 'üö≤', 'üõµ', 'üèçÔ∏è', 'üõ∫', 'üö®', 'üöî', 'üöç', 'üöò', 'üöñ', 'üõû', 'üö°', 'üö†', 'üöü', 'üöÉ', 'üöã', 'üöû', 'üöù', 'üöÑ', 'üöÖ', 'üöà', 'üöÇ', 'üöÜ', 'üöá', 'üöä', 'üöâ', '‚úàÔ∏è', 'üõ´', 'üõ¨', 'üõ©Ô∏è', 'üí∫', 'üõ∞Ô∏è', 'üöÄ', 'üõ∏', 'üöÅ', 'üõ∂', '‚õµ', 'üö§', 'üõ•Ô∏è', 'üõ≥Ô∏è', '‚õ¥Ô∏è', 'üö¢', '‚öì', 'ü™ù', '‚õΩ', 'üöß', 'üö¶', 'üö•', 'üõë', 'üöè'
    ]
  },
  {
    name: 'Âª∫Áâ©',
    emojis: [
      'üè†', 'üè°', 'üèòÔ∏è', 'üèöÔ∏è', 'üè¢', 'üè¨', 'üè£', 'üè§', 'üè•', 'üè¶', 'üè®', 'üè™', 'üè´', 'üè©', 'üíí', 'üèõÔ∏è', '‚õ™', 'üïå', 'üõï', 'üïç', '‚õ©Ô∏è', 'üïã', '‚õ≤', '‚õ∫', 'üåÅ', 'üåÉ', 'üèôÔ∏è', 'üåÑ', 'üåÖ', 'üåÜ', 'üåá', 'üåâ', 'üåå', 'üé†', 'üõù', 'üé°', 'üé¢', 'üíà', 'üé™', 'üóº', 'üóΩ', 'üóæ', 'üóø', 'üè∞', 'üèØ', 'üèüÔ∏è', 'üé°', '‚õ±Ô∏è', 'üèñÔ∏è', 'üèùÔ∏è', 'üèúÔ∏è', 'üåã', '‚õ∞Ô∏è', 'üèîÔ∏è', 'üóª', 'üèïÔ∏è', 'üõñ'
    ]
  },
  {
    name: 'Áâ©',
    emojis: [
      // Èü≥Ê•Ω
      'üéº', 'üéµ', 'üé∂', 'üéôÔ∏è', 'üéöÔ∏è', 'üéõÔ∏è', 'üé§', 'üéß', 'üìª', 'üé∑', 'ü™ó', 'üé∏', 'üéπ', 'üé∫', 'üéª', 'ü™ï', 'ü•Å', 'ü™ò', 'ü™á', 'ü™à',
      // „Ç≤„Éº„É†
      'üéÆ', 'üïπÔ∏è', 'üé∞', 'üé≤', 'üß©', 'üß∏', 'ü™Ü', 'ü™Ö', 'üé¥', 'üÄÑ', 'üÉè',
      // ÊñáÂÖ∑
      '‚úèÔ∏è', '‚úíÔ∏è', 'üñäÔ∏è', 'üñãÔ∏è', 'üñåÔ∏è', 'üñçÔ∏è', 'üìù', 'üìö', 'üìñ', 'üîñ', 'üìé', 'üñáÔ∏è', 'üìê', 'üìè', 'üóÇÔ∏è', 'üìÅ', 'üìÇ', 'üóÉÔ∏è', 'üóÑÔ∏è', 'üóëÔ∏è',
      // IT
      'üíª', 'üñ•Ô∏è', 'üñ®Ô∏è', '‚å®Ô∏è', 'üñ±Ô∏è', 'üíæ', 'üíø', 'üìÄ', 'üì±', '‚òéÔ∏è', 'üìû', 'üìü', 'üì†',
      // „Ç´„É°„É©
      'üì∑', 'üì∏', 'üìπ', 'üé•', 'üìΩÔ∏è', 'üéûÔ∏è', 'üì∫', 'üì°',
      // ÈõªÊ∞ó
      'üî¶', 'üèÆ', 'ü™î', 'üí°', 'üîå', 'üîã', 'ü™´',
      // „Åù„ÅÆ‰ªñ
      'üëì', 'üï∂Ô∏è', 'ü•Ω', 'ü•º', 'ü¶∫', 'üëî', 'üëï', 'üëñ', 'üß£', 'üß§', 'üß•', 'üß¶', 'üëó', 'üëò', 'ü•ª', 'ü©±', 'ü©≤', 'ü©≥', 'üëô', 'üëö', 'üëõ', 'üëú', 'üëù', 'üéí', 'ü©¥', 'üëû', 'üëü', 'ü•æ', 'ü•ø', 'üë†', 'üë°', 'ü©∞', 'üë¢', 'üëë', 'üëí', 'üé©', 'üéì', 'üß¢', 'ü™ñ', '‚õëÔ∏è', 'üíÑ', 'üíç', 'üíº'
    ]
  },
  {
    name: '„Ç∑„É≥„Éú„É´',
    emojis: [
      'üî¥', 'üü†', 'üü°', 'üü¢', 'üîµ', 'üü£', 'üü§', '‚ö´', '‚ö™', 'üü•', 'üüß', 'üü®', 'üü©', 'üü¶', 'üü™', 'üü´', '‚¨õ', '‚¨ú', '‚óºÔ∏è', '‚óªÔ∏è', '‚óæ', '‚óΩ', '‚ñ™Ô∏è', '‚ñ´Ô∏è', 'üî∂', 'üî∑', 'üî∏', 'üîπ', 'üî∫', 'üîª', 'üí†', 'üîò', 'üî≥', 'üî≤',
      '‚ôà', '‚ôâ', '‚ôä', '‚ôã', '‚ôå', '‚ôç', '‚ôé', '‚ôè', '‚ôê', '‚ôë', '‚ôí', '‚ôì', '‚õé',
      'üîÄ', 'üîÅ', 'üîÇ', '‚ñ∂Ô∏è', '‚è©', '‚è≠Ô∏è', '‚èØÔ∏è', '‚óÄÔ∏è', '‚è™', '‚èÆÔ∏è', 'üîº', '‚è´', 'üîΩ', '‚è¨', '‚è∏Ô∏è', '‚èπÔ∏è', '‚è∫Ô∏è', '‚èèÔ∏è', 'üé¶',
      'üîÖ', 'üîÜ', 'üì∂', 'üõú', 'üì≥', 'üì¥', '‚ôÄÔ∏è', '‚ôÇÔ∏è', '‚ößÔ∏è', '‚úñÔ∏è', '‚ûï', '‚ûñ', '‚ûó', 'üü∞', '‚ôæÔ∏è', '‚ÄºÔ∏è', '‚ÅâÔ∏è', '‚ùì', '‚ùî', '‚ùï', '‚ùó', '„Ä∞Ô∏è', 'üí±', 'üí≤', '‚öïÔ∏è', '‚ôªÔ∏è', '‚öúÔ∏è', 'üî±', 'üìõ', 'üî∞', '‚≠ï', '‚úÖ', '‚òëÔ∏è', '‚úîÔ∏è', '‚ùå', '‚ùé', '‚û∞', '‚ûø', '„ÄΩÔ∏è', '‚ú≥Ô∏è', '‚ú¥Ô∏è', '‚ùáÔ∏è', '¬©Ô∏è', '¬ÆÔ∏è', '‚Ñ¢Ô∏è',
      '#Ô∏è‚É£', '*Ô∏è‚É£', '0Ô∏è‚É£', '1Ô∏è‚É£', '2Ô∏è‚É£', '3Ô∏è‚É£', '4Ô∏è‚É£', '5Ô∏è‚É£', '6Ô∏è‚É£', '7Ô∏è‚É£', '8Ô∏è‚É£', '9Ô∏è‚É£', 'üîü', 'üî†', 'üî°', 'üî¢', 'üî£', 'üî§', 'üÖ∞Ô∏è', 'üÜé', 'üÖ±Ô∏è', 'üÜë', 'üÜí', 'üÜì', '‚ÑπÔ∏è', 'üÜî', '‚ìÇÔ∏è', 'üÜï', 'üÜñ', 'üÖæÔ∏è', 'üÜó', 'üÖøÔ∏è', 'üÜò', 'üÜô', 'üÜö', 'üàÅ', 'üàÇÔ∏è', 'üà∑Ô∏è', 'üà∂', 'üàØ', 'üâê', 'üàπ', 'üàö', 'üà≤', 'üâë', 'üà∏', 'üà¥', 'üà≥', '„äóÔ∏è', '„äôÔ∏è', 'üà∫', 'üàµ'
    ]
  },
  {
    name: '„Ç§„Éô„É≥„Éà',
    emojis: [
      'üéÉ', 'üéÑ', 'üéÜ', 'üéá', 'üß®', '‚ú®', 'üéà', 'üéâ', 'üéä', 'üéã', 'üéç', 'üéé', 'üéè', 'üéê', 'üéë', 'üßß', 'üéÄ', 'üéÅ', 'üéóÔ∏è', 'üéüÔ∏è', 'üé´', 'üéñÔ∏è', 'üèÜ', 'üèÖ', 'ü•á', 'ü•à', 'ü•â', '‚öΩ', 'üé≠', 'üé®', 'üé¨', 'üé§', 'üéß', 'üéº', 'üéπ', 'ü•Å', 'üé∑', 'üé∫', 'üé∏', 'ü™ï', 'üéª', 'üé≤', 'üéØ', 'üé≥', 'üéÆ', 'üé∞', 'üß©'
    ]
  },
  {
    name: 'ÂõΩÊóó',
    emojis: [
      'üèÅ', 'üö©', 'üéå', 'üè¥', 'üè≥Ô∏è', 'üè≥Ô∏è‚Äçüåà', 'üè≥Ô∏è‚Äç‚ößÔ∏è', 'üè¥‚Äç‚ò†Ô∏è',
      'üáØüáµ', 'üá∫üá∏', 'üá¨üáß', 'üá´üá∑', 'üá©üá™', 'üáÆüáπ', 'üá™üá∏', 'üáµüáπ', 'üá≥üá±', 'üáßüá™', 'üá®üá≠', 'üá¶üáπ', 'üá∏üá™', 'üá≥üá¥', 'üá©üá∞', 'üá´üáÆ', 'üáÆüá∏', 'üáÆüá™', 'üáµüá±', 'üá®üáø', 'üá≠üá∫', 'üá∑üá¥', 'üáßüá¨', 'üá¨üá∑', 'üáπüá∑', 'üá∑üá∫', 'üá∫üá¶',
      'üá®üá≥', 'üá∞üá∑', 'üáπüáº', 'üá≠üá∞', 'üá≤üá¥', 'üá≤üá≥', 'üáªüá≥', 'üáπüá≠', 'üáÆüá©', 'üá≤üáæ', 'üá∏üá¨', 'üáµüá≠', 'üáÆüá≥', 'üáµüá∞', 'üáßüá©', 'üá±üá∞', 'üá≥üáµ', 'üá≤üá≤', 'üá∞üá≠', 'üá±üá¶',
      'üá¶üá∫', 'üá≥üáø', 'üá®üá¶', 'üá≤üáΩ', 'üáßüá∑', 'üá¶üá∑', 'üá®üá±', 'üá®üá¥', 'üáµüá™', 'üáªüá™',
      'üá™üá¨', 'üáøüá¶', 'üá≥üá¨', 'üá∞üá™', 'üá™üáπ', 'üá≤üá¶', 'üá©üáø', 'üáπüá≥',
      'üá∏üá¶', 'üá¶üá™', 'üáÆüá±', 'üáÆüá∑', 'üáÆüá∂', 'üáØüá¥', 'üá±üáß', 'üá∂üá¶', 'üá∞üáº', 'üáßüá≠', 'üá¥üá≤', 'üáæüá™'
    ]
  }
];

interface AccountCreateProps {
  isLoading: boolean;
  error: string | null;
  deriveProgress: number;
  onCreateAccount: (
    accountName: string,
    password: string,
    extraSecret: string
  ) => Promise<boolean>;
  onCancel: () => void;
}

export function AccountCreate({
  isLoading,
  error,
  deriveProgress,
  onCreateAccount,
  onCancel,
}: AccountCreateProps) {
  const { t } = useTranslation();
  const [accountName, setAccountName] = useState('');
  const [password, setPassword] = useState('');
  const [passwordConfirm, setPasswordConfirm] = useState('');
  const [extraSecret, setExtraSecret] = useState('');
  const [showPassword, setShowPassword] = useState(false);
  const [inputError, setInputError] = useState<string | null>(null);
  const [showEmojiPicker, setShowEmojiPicker] = useState(false);
  const [selectedCategory, setSelectedCategory] = useState(0);

  // ÁµµÊñáÂ≠ó„ÇíËøΩÂä†
  const handleEmojiSelect = (emoji: string) => {
    setExtraSecret(prev => prev + emoji);
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setInputError(null);

    // „Éê„É™„Éá„Éº„Ç∑„Éß„É≥
    if (!accountName.trim()) {
      setInputError(t('auth.accountNameRequired'));
      return;
    }

    if (password.length < 8) {
      setInputError(t('auth.passwordMinLength'));
      return;
    }

    if (password !== passwordConfirm) {
      setInputError(t('auth.passwordMismatch'));
      return;
    }

    if (extraSecret.length < 4) {
      setInputError(t('auth.extraSecretMinLength'));
      return;
    }

    const success = await onCreateAccount(accountName.trim(), password, extraSecret);
    if (success) {
      // ÊàêÂäüÊôÇ„ÅØË¶™„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÅßÂá¶ÁêÜ
    }
  };

  return (
    <div className={styles.container}>
      <h2 className={styles.title}>{t('auth.createAccount')}</h2>
      
      <form onSubmit={handleSubmit} className={styles.form}>
        {/* „Ç¢„Ç´„Ç¶„É≥„ÉàÂêç */}
        <div className={styles.field}>
          <label htmlFor="accountName" className={styles.label}>
            {t('auth.accountName')}
          </label>
          <input
            id="accountName"
            type="text"
            value={accountName}
            onChange={(e) => setAccountName(e.target.value)}
            placeholder={t('auth.accountNamePlaceholder')}
            className={styles.input}
            disabled={isLoading}
            autoComplete="username"
          />
          <p className={styles.hint}>{t('auth.accountNameHint')}</p>
        </div>

        {/* „Éë„Çπ„ÉØ„Éº„Éâ */}
        <div className={styles.field}>
          <label htmlFor="password" className={styles.label}>
            {t('auth.password')}
          </label>
          <div className={styles.passwordWrapper}>
            <input
              id="password"
              type={showPassword ? 'text' : 'password'}
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              placeholder={t('auth.passwordPlaceholder')}
              className={styles.input}
              disabled={isLoading}
              autoComplete="new-password"
            />
            <button
              type="button"
              onClick={() => setShowPassword(!showPassword)}
              className={styles.togglePassword}
              tabIndex={-1}
            >
              <span className="material-symbols-outlined">{showPassword ? 'visibility_off' : 'visibility'}</span>
            </button>
          </div>
          <p className={styles.hint}>{t('auth.passwordHint')}</p>
        </div>

        {/* „Éë„Çπ„ÉØ„Éº„ÉâÁ¢∫Ë™ç */}
        <div className={styles.field}>
          <label htmlFor="passwordConfirm" className={styles.label}>
            {t('auth.passwordConfirm')}
          </label>
          <input
            id="passwordConfirm"
            type={showPassword ? 'text' : 'password'}
            value={passwordConfirm}
            onChange={(e) => setPasswordConfirm(e.target.value)}
            placeholder={t('auth.passwordConfirmPlaceholder')}
            className={styles.input}
            disabled={isLoading}
            autoComplete="new-password"
          />
        </div>

        {/* ËøΩÂä†„Ç∑„Éº„ÇØ„É¨„ÉÉ„Éà */}
        <div className={styles.field}>
          <label htmlFor="extraSecret" className={styles.label}>
            {t('auth.extraSecret')}
          </label>
          <div className={styles.extraSecretWrapper}>
            <input
              id="extraSecret"
              type="text"
              value={extraSecret}
              onChange={(e) => setExtraSecret(e.target.value)}
              placeholder={t('auth.extraSecretPlaceholder')}
              className={styles.extraSecretInput}
              disabled={isLoading}
              autoComplete="off"
            />
            <button
              type="button"
              onClick={() => setShowEmojiPicker(!showEmojiPicker)}
              className={styles.emojiPickerButton}
              disabled={isLoading}
              title="ÁµµÊñáÂ≠ó„ÇíÈÅ∏Êäû"
            >
              üòÄ
            </button>
          </div>
          <p className={styles.hint}>{t('auth.extraSecretHint')}</p>
          
          {/* ÁµµÊñáÂ≠ó„Éî„ÉÉ„Ç´„Éº */}
          {showEmojiPicker && (
            <div className={styles.emojiPicker}>
              <div className={styles.emojiCategories}>
                {EMOJI_CATEGORIES.map((category, index) => (
                  <button
                    key={category.name}
                    type="button"
                    className={`${styles.categoryButton} ${selectedCategory === index ? styles.active : ''}`}
                    onClick={() => setSelectedCategory(index)}
                  >
                    {category.emojis[0]}
                  </button>
                ))}
              </div>
              <div className={styles.emojiGrid}>
                {EMOJI_CATEGORIES[selectedCategory].emojis.map((emoji, index) => (
                  <button
                    key={`${emoji}-${index}`}
                    type="button"
                    className={styles.emojiButton}
                    onClick={() => handleEmojiSelect(emoji)}
                  >
                    {emoji}
                  </button>
                ))}
              </div>
              <p className={styles.emojiHint}>
                {t('auth.emojiHint', { count: extraSecret.length })}
              </p>
            </div>
          )}
        </div>

        {/* „Ç®„É©„ÉºË°®Á§∫ */}
        {(inputError || error) && (
          <p className={styles.error}>{inputError || error}</p>
        )}

        {/* ÈÄ≤ÊçóË°®Á§∫ */}
        {isLoading && deriveProgress > 0 && (
          <div className={styles.progressWrapper}>
            <div className={styles.progressBar}>
              <div
                className={styles.progressFill}
                style={{ width: `${deriveProgress}%` }}
              />
            </div>
            <p className={styles.progressText}>
              {t('auth.deriving')} ({deriveProgress}%)
            </p>
          </div>
        )}

        {/* Ê≥®ÊÑè‰∫ãÈ†Ö */}
        <div className={styles.warning}>
          <p>{t('auth.createAccountWarning')}</p>
        </div>

        {/* „Éú„Çø„É≥ */}
        <div className={styles.actions}>
          <button
            type="button"
            onClick={onCancel}
            className={styles.cancelButton}
            disabled={isLoading}
          >
            {t('auth.cancel')}
          </button>
          <button
            type="submit"
            className={styles.submitButton}
            disabled={isLoading}
          >
            {isLoading ? t('auth.creating') : t('auth.createAccount')}
          </button>
        </div>
      </form>
    </div>
  );
}
